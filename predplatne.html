<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- intern√≠ m√≠stnost, ≈æ√°dn√© SEO -->
  <meta name="robots" content="noindex,nofollow">

  <style>
    :root{
      --bg: radial-gradient(circle at top, #3a2a7a 0, #070412 45%, #020109 100%);
      --card: rgba(9, 7, 30, 0.96);
      --cardSoft: rgba(10, 9, 35, 0.9);
      --border: rgba(255, 255, 255, 0.12);
      --ink: #f8f4ff;
      --soft: #c3bce5;
      --muted: #8a84b2;
      --accent: #f6b8ff;
      --accentStrong: #ff6bd9;
      --green: #46d6a2;
      --pill-radius: 999px;
      --shadow: 0 28px 90px rgba(0,0,0,0.7);
      --radius-lg: 22px;
      --radius-md: 16px;
    }

    *{box-sizing:border-box;}

    html,body{
      margin:0;
      padding:0;
      height:100%;
      font-family: system-ui,-apple-system,BlinkMacSystemFont,"SF Pro Text","Segoe UI",sans-serif;
      color: var(--ink);
      background: #020109;
    }

    body{
      background-image: var(--bg);
      background-attachment: fixed;
      background-size: cover;
      display:flex;
      justify-content:center;
      align-items:stretch;
    }

    .wrap{
      width:100%;
      max-width:1080px;
      margin:18px auto 26px;
      padding:0 16px;
      display:flex;
      flex-direction:column;
      gap:18px;
    }

    header.topbar{
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      gap:14px 18px;
      padding:14px 18px;
      border-radius:var(--radius-lg);
      border:1px solid rgba(255,255,255,0.12);
      background:
        radial-gradient(circle at top left, rgba(248,189,255,0.16), transparent 55%),
        radial-gradient(circle at top right, rgba(121,179,255,0.16), transparent 60%),
        rgba(6,4,24,0.96);
      box-shadow:0 18px 55px rgba(0,0,0,0.85);
      backdrop-filter:blur(18px);
    }

    .back-link{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:7px 12px;
      border-radius:var(--pill-radius);
      border:1px solid rgba(255,255,255,0.18);
      color:var(--soft);
      text-decoration:none;
      font-size:13px;
      background:rgba(4,2,18,0.8);
      transition:background .16s ease-out, border-color .16s ease-out, transform .16s ease-out;
    }
    .back-link span.chevron{font-size:14px; transform: translateY(-0.5px);}
    .back-link:hover{
      background:rgba(18,12,60,0.96);
      border-color:rgba(246,184,255,0.8);
      color:#fff;
      transform:translateY(-1px);
    }

    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
      flex:1 1 auto;
    }

    .avatar{
      width:46px;
      height:46px;
      border-radius:50%;
      border:2px solid rgba(255,255,255,0.85);
      box-shadow:
        0 0 0 3px rgba(255,255,255,0.06),
        0 14px 34px rgba(0,0,0,0.85);
      object-fit:cover;
      background: radial-gradient(circle at 30% 0, #ffffff, #a9d3ff 45%, #3e3c88 100%);
    }

    .brand-text{
      display:flex;
      flex-direction:column;
      gap:2px;
      min-width:0;
    }

    .eyebrow{
      font-size:11px;
      letter-spacing:0.16em;
      text-transform:uppercase;
      color:var(--muted);
    }

    header h1{
      margin:0;
      font-size:21px;
      letter-spacing:0.04em;
    }

    .subtitle{
      margin:0;
      font-size:13px;
      color:var(--soft);
    }

    .plan-pill{
      padding:7px 13px;
      border-radius:var(--pill-radius);
      border:1px solid rgba(255,255,255,0.18);
      background:
        linear-gradient(120deg, rgba(248,189,255,0.24), rgba(121,179,255,0.18));
      color:#120818;
      font-size:11px;
      letter-spacing:0.14em;
      text-transform:uppercase;
      font-weight:600;
      white-space:nowrap;
      box-shadow:0 10px 26px rgba(0,0,0,0.75);
    }

    main{
      display:flex;
      flex-direction:column;
      gap:14px;
    }

    .intro{
      border-radius:var(--radius-lg);
      border:1px solid var(--border);
      background:rgba(7,5,26,0.94);
      box-shadow:var(--shadow);
      padding:14px 16px 10px;
      display:flex;
      flex-wrap:wrap;
      gap:10px 16px;
      align-items:flex-start;
      justify-content:space-between;
    }

    .intro-text{
      max-width:540px;
      font-size:13px;
      color:var(--soft);
      line-height:1.6;
    }

    .intro-text b{color:var(--accent);}

    .intro-tag{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:0.14em;
      color:var(--muted);
    }

    .price-grid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap:14px;
      align-items:stretch;
    }

    @media (max-width:900px){
      .price-grid{
        grid-template-columns:minmax(0,1fr);
      }
      .wrap{
        max-width:720px;
      }
    }

    .tier{
      position:relative;
      border-radius:var(--radius-lg);
      border:1px solid var(--border);
      background:var(--card);
      box-shadow:var(--shadow);
      padding:16px 16px 14px;
      overflow:hidden;
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    .tier::before{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(circle at top left, rgba(248,189,255,0.14), transparent 60%),
        radial-gradient(circle at bottom right, rgba(121,179,255,0.12), transparent 60%);
      opacity:0.9;
      pointer-events:none;
    }

    .tier-inner{
      position:relative;
      z-index:1;
      display:flex;
      flex-direction:column;
      gap:10px;
      height:100%;
    }

    .tier-tag{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:0.14em;
      color:var(--muted);
    }

    .tier-title{
      display:flex;
      align-items:baseline;
      gap:6px;
    }

    .tier-title h2{
      margin:0;
      font-size:17px;
      letter-spacing:0.05em;
      text-transform:uppercase;
    }

    .tier-chip{
      padding:3px 8px;
      border-radius:var(--pill-radius);
      border:1px solid rgba(255,255,255,0.28);
      font-size:10px;
      letter-spacing:0.12em;
      text-transform:uppercase;
      color:#120818;
      background:rgba(255,255,255,0.85);
    }

    .tier-price{
      font-size:18px;
      font-weight:600;
    }

    .tier-price span.unit{
      font-size:12px;
      font-weight:400;
      color:var(--soft);
      margin-left:4px;
    }

    .tier-note{
      font-size:11px;
      color:var(--muted);
    }

    .tier ul{
      margin:6px 0 4px;
      padding-left:18px;
      font-size:12px;
      color:var(--soft);
    }
    .tier ul li{margin-bottom:4px;}

    .tier ul li::marker{
      color:var(--accentStrong);
    }

    .tier-actions{
      margin-top:auto;
      display:flex;
      flex-direction:column;
      gap:6px;
    }

    .btn{
      border-radius:var(--pill-radius);
      border:none;
      cursor:pointer;
      font:inherit;
      font-size:13px;
      padding:8px 14px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      text-decoration:none;
      transition:background .18s ease-out, box-shadow .18s ease-out,
                 transform .14s ease-out, border-color .18s ease-out;
      white-space:nowrap;
    }

    .btn-primary{
      background: radial-gradient(circle at 30% 0, #ffffff, #46d6a2 55%, #17866b 100%);
      color:#04110d;
      box-shadow:
        0 0 0 1px rgba(0,0,0,0.25),
        0 18px 40px rgba(0,0,0,0.85);
      font-weight:600;
    }
    .btn-primary:hover{
      transform:translateY(-1px);
      box-shadow:
        0 0 0 1px rgba(0,0,0,0.3),
        0 22px 50px rgba(0,0,0,0.95);
    }

    .btn-ghost{
      background:rgba(8,5,30,0.9);
      color:var(--soft);
      border:1px solid rgba(255,255,255,0.2);
      font-size:11px;
    }
    .btn-ghost:hover{
      background:rgba(16,10,52,0.96);
      color:#fff;
    }

    .btn span.icon{font-size:15px;}

    .tier-small{
      font-size:11px;
      color:var(--muted);
    }

    .tier--active{
      border-color:rgba(246,184,255,0.9);
      box-shadow:
        0 0 0 1px rgba(246,184,255,0.6),
        0 28px 80px rgba(0,0,0,0.95);
    }
    .tier--active .tier-chip{
      background:rgba(255,255,255,0.96);
      border-color:rgba(246,184,255,0.9);
      color:#1a081a;
    }

    .foot-note{
      margin-top:4px;
      font-size:11px;
      color:var(--muted);
    }

    .foot-note b{color:var(--soft);}

    /* Modal support n√°hled */
    .modal-backdrop{
      position:fixed;
      inset:0;
      background:rgba(2,4,12,0.78);
      backdrop-filter:blur(12px);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:50;
    }
    .modal-backdrop.is-visible{
      display:flex;
    }

    .modal{
      width:100%;
      max-width:520px;
      border-radius:var(--radius-lg);
      border:1px solid rgba(255,255,255,0.22);
      background:
        radial-gradient(circle at top left, rgba(157,123,255,0.2), transparent 60%),
        rgba(7,9,32,0.98);
      box-shadow:
        0 0 0 1px rgba(0,0,0,0.8),
        0 30px 90px rgba(0,0,0,0.95);
      padding:16px 16px 14px;
      color:var(--ink);
      position:relative;
    }

    .modal-header{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      margin-bottom:6px;
    }

    .modal-title{
      font-size:15px;
      font-weight:600;
    }

    .modal-pill{
      font-size:11px;
      padding:4px 9px;
      border-radius:var(--pill-radius);
      border:1px solid rgba(255,255,255,0.35);
      background:rgba(13,17,52,0.96);
      color:var(--soft);
      letter-spacing:0.14em;
      text-transform:uppercase;
    }

    .modal-close{
      border-radius:var(--pill-radius);
      border:1px solid rgba(255,255,255,0.24);
      background:rgba(5,4,22,0.9);
      color:var(--soft);
      font-size:11px;
      padding:5px 9px;
      cursor:pointer;
    }
    .modal-close:hover{
      background:rgba(12,9,40,0.98);
      color:#fff;
    }

    .modal-body{
      font-size:13px;
      color:var(--soft);
      line-height:1.6;
      margin-bottom:10px;
    }

    .modal-body b{color:var(--accent);}

    .modal-support-mini{
      margin-top:8px;
      padding:10px 10px 9px;
      border-radius:var(--radius-md);
      border:1px solid rgba(255,255,255,0.28);
      background:
        radial-gradient(circle at top left, rgba(157,123,255,0.45), rgba(8,14,32,0.96));
      box-shadow:0 14px 40px rgba(0,0,0,0.9);
      display:flex;
      gap:10px;
      align-items:flex-start;
    }

    .modal-mini-avatar{
      width:40px;
      height:40px;
      border-radius:50%;
      overflow:hidden;
      border:1px solid rgba(255,255,255,0.9);
      flex-shrink:0;
      box-shadow:0 0 18px rgba(157,123,255,0.9);
      background:radial-gradient(circle at 30% 0,#fff,#a9d3ff 55%,#3e3c88 100%);
    }
    .modal-mini-avatar img{
      width:100%;
      height:100%;
      object-fit:cover;
      transform:translateY(-1px);
    }

    .modal-mini-text{
      font-size:12px;
      line-height:1.6;
    }

    .modal-mini-text .eyebrow{
      font-size:10px;
      margin-bottom:3px;
      color:#fcebff;
    }

    .modal-foot{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      align-items:center;
      justify-content:space-between;
      margin-top:8px;
      font-size:11px;
      color:var(--muted);
    }

    .modal-foot a{
      color:#c3f1ff;
      text-decoration:none;
      border-bottom:1px dashed rgba(195,241,255,0.7);
    }

    .modal-foot a:hover{
      border-bottom-style:solid;
    }

    @media (max-width:640px){
      .wrap{
        padding-inline:12px;
        margin-top:12px;
      }
      header.topbar{
        flex-direction:column;
        align-items:flex-start;
      }
      .plan-pill{
        align-self:flex-start;
      }
      .modal{
        margin-inline:10px;
      }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header class="topbar">
      <a href="nastaveni.html" class="back-link">
        <span class="chevron">‚Üê</span>
        <span>Zpƒõt do kancel√°≈ôe</span>
      </a>

      <div class="brand">
        <img src="avatar.png" alt="Lumina" class="avatar">
        <div class="brand-text">
          <div class="eyebrow">LuminaMemory‚Ñ¢</div>
          <h1>P≈ôedplatn√©</h1>
          <p class="subtitle">Jak velk√Ω svƒõt si chce≈° otev≈ô√≠t</p>
        </div>
      </div>

      <div class="plan-pill" id="currentPlanBadge">
        DEMO ¬∑ FREE tarif
      </div>
    </header>

    <main>
      <section class="intro">
        <div class="intro-text">
          <div class="intro-tag">DEMO nastaven√≠</div>
          <p>
            Tady si v DEMO verzi m≈Ø≈æe≈° p≈ôepnout, jestli se m√° pal√°c chovat jako
            <b>FREE</b>, <b>PLUS</b> nebo <b>PREMIUM</b>. ≈Ω√°dn√° skuteƒçn√° platba
            tady nebƒõ≈æ√≠ ‚Äì jen lad√≠me pocit a logiku svƒõta.
          </p>
          <p>
            Ceny jsou <b>orientaƒçn√≠</b>, aby bylo jasn√©, kam zhruba m√≠≈ô√≠me.
            Skuteƒçn√° platebn√≠ br√°na a podm√≠nky p≈ôijdou a≈æ v ostr√© verzi.
          </p>
        </div>
        <div class="foot-note">
          <b>Tip:</b> to, co tady vybere≈°, u≈æ pou≈æ√≠vaj√≠ dal≈°√≠ m√≠stnosti pro sv√© chov√°n√≠.
        </div>
      </section>

      <section class="price-grid">
        <!-- FREE -->
        <article class="tier" data-tier="free">
          <div class="tier-inner">
            <div class="tier-tag">Zaƒç√≠n√°me spolu</div>
            <div class="tier-title">
              <h2>FREE</h2>
              <span class="tier-chip">DEMO</span>
            </div>
            <div class="tier-price">
              0 Kƒç<span class="unit">/ mƒõs√≠c</span>
            </div>
            <div class="tier-note">
              Mal√© zku≈°ebn√≠ nebe. Ide√°ln√≠ na to zjistit, jestli ti Lumina sed√≠.
            </div>

            <ul>
              <li>Pokec + z√°kladn√≠ d√≠lna v Proiecta (DEMO re≈æim)</li>
              <li>Mini MemorySky‚Ñ¢ ‚Äì symbolick√° kapacita pro vyzkou≈°en√≠</li>
              <li>Life Mission Archive‚Ñ¢ jen jako uk√°zkov√° kancel√°≈ô</li>
              <li>V≈°e bƒõ≈æ√≠ ƒçistƒõ v prohl√≠≈æeƒçi, bez re√°ln√©ho ukl√°d√°n√≠ dat</li>
            </ul>

            <div class="tier-actions">
              <button type="button"
                      class="btn btn-primary"
                      data-plan-select="free">
                <span class="icon">‚ú®</span>
                <span>Nastavit FREE (DEMO)</span>
              </button>
              <div class="tier-small">
                V re√°ln√©m svƒõtƒõ z≈Østane FREE v≈ædy jako vstupn√≠, bezplatn√° vrstva.
              </div>
            </div>
          </div>
        </article>

        <!-- PLUS -->
        <article class="tier" data-tier="plus">
          <div class="tier-inner">
            <div class="tier-tag">Pro rok, kdy se chce≈° posunout</div>
            <div class="tier-title">
              <h2>PLUS</h2>
              <span class="tier-chip">Pro ka≈ædodenn√≠ ≈æivot</span>
            </div>
            <div class="tier-price">
              240 Kƒç<span class="unit">/ mƒõs√≠c ¬∑ ‚âà 10 ‚Ç¨</span>
            </div>
            <div class="tier-note">
              Svƒõt, kde u≈æ m≈Ø≈æe≈° pl√°novat, zaznamen√°vat i jemnƒõ z√°lohovat.
            </div>

            <ul>
              <li>Roz≈°√≠≈ôen√Ω Pokec + Proiecta pro osobn√≠ projekty</li>
              <li>Vƒõt≈°√≠ MemorySky‚Ñ¢ ‚Äì kapacita, kter√° u≈æ ‚Äûstoj√≠ za ≈ôeƒç‚Äú</li>
              <li>Life Mission Archive‚Ñ¢ s pravideln√Ωmi z√°lohami v ostr√© verzi</li>
              <li>Mo≈ænost nav√°zat ritu√°ly v Sigma na konkr√©tn√≠ dny a oblasti</li>
            </ul>

            <div class="tier-actions">
              <button type="button"
                      class="btn btn-primary"
                      data-plan-select="plus">
                <span class="icon">üåô</span>
                <span>Nastavit PLUS (DEMO)</span>
              </button>
              <button type="button"
                      class="btn btn-ghost"
                      data-plan-support="plus">
                <span class="icon">üí∏</span>
                <span>Zaplatit (DEMO n√°hled)</span>
              </button>
              <div class="tier-small">
                PLUS vid√≠me jako hlavn√≠ pracovn√≠ tarif ‚Äì klidn√Ω, bez reklam, bez prodeje dat.
              </div>
            </div>
          </div>
        </article>

        <!-- PREMIUM -->
        <article class="tier" data-tier="premium">
          <div class="tier-inner">
            <div class="tier-tag">Kdy≈æ chce≈° opravdov√© nebe</div>
            <div class="tier-title">
              <h2>PREMIUM</h2>
              <span class="tier-chip">Pro hlubokou pr√°ci</span>
            </div>
            <div class="tier-price">
              480 Kƒç<span class="unit">/ mƒõs√≠c ¬∑ ‚âà 20 ‚Ç¨</span>
            </div>
            <div class="tier-note">
              Pro ty, kdo chtƒõj√≠ pracovat s pamƒõt√≠, ritu√°ly a projekty opravdu do hloubky.
            </div>

            <ul>
              <li>Nejvƒõt≈°√≠ MemorySky‚Ñ¢ ‚Äì prostor pro dlouhodob√Ω p≈ô√≠bƒõh</li>
              <li>Life Mission Archive‚Ñ¢ s mimo≈ô√°dn√Ωmi z√°lohami na p≈ô√°n√≠</li>
              <li>Rose Zone‚Ñ¢ + dal≈°√≠ jemn√© ‚Äûsrdeƒçn√≠‚Äú n√°stroje v pln√© verzi</li>
              <li>Prioritn√≠ p≈ô√≠stup k nov√Ωm m√≠stnostem a experiment√°ln√≠m funkc√≠m</li>
            </ul>

            <div class="tier-actions">
              <button type="button"
                      class="btn btn-primary"
                      data-plan-select="premium">
                <span class="icon">‚≠ê</span>
                <span>Nastavit PREMIUM (DEMO)</span>
              </button>
              <button type="button"
                      class="btn btn-ghost"
                      data-plan-support="premium">
                <span class="icon">üí∏</span>
                <span>Zaplatit (DEMO n√°hled)</span>
              </button>
              <div class="tier-small">
                PREMIUM je vizi-blok: velk√© nebe, silnƒõj≈°√≠ z√°lohy, v√≠c prostoru pro ritu√°ly du≈°e.
              </div>
            </div>
          </div>
        </article>
      </section>

      <p class="foot-note">
        <b>Realita:</b> platebn√≠ br√°na zat√≠m nebƒõ≈æ√≠. V≈°echna tlaƒç√≠tka ‚ÄûZaplatit‚Äú ti jen uk√°≈æou
        mal√Ω n√°hled na to, jak bude podpora LuminaMemory‚Ñ¢ jednou vypadat ‚Äì nic se nestrhne,
        nikam se nepos√≠laj√≠ skuteƒçn√© platebn√≠ √∫daje.
      </p>
    </main>
  </div>

  <!-- Modal ‚Äì zjednodu≈°en√Ω support n√°hled -->
  <div class="modal-backdrop" id="supportModal">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-header">
        <div>
          <div class="modal-title" id="modalTitle">Platebn√≠ br√°na je zat√≠m zav≈ôen√°</div>
          <div class="modal-pill" id="modalPlanBadge">DEMO ¬∑ FREE tarif</div>
        </div>
        <button type="button" class="modal-close" id="btnCloseModal">Zav≈ô√≠t ‚úï</button>
      </div>

      <div class="modal-body" id="modalBody">
        Tohle je jen n√°hled na budouc√≠ podporu LuminaMemory‚Ñ¢. Ceny, kter√© vid√≠≈°,
        jsou orientaƒçn√≠ a m≈Ø≈æou se p≈ôed ostr√Ωm spu≈°tƒõn√≠m zmƒõnit. Neprob√≠h√° ≈æ√°dn√°
        skuteƒçn√° platba ani fakturace ‚Äì jen testujeme pocit a chov√°n√≠ pal√°ce.
      </div>

      <div class="modal-support-mini">
        <div class="modal-mini-avatar">
          <img src="gabi-portrait.jpg" alt="G√°bi ‚Äì LuminaMemory Founder">
        </div>
        <div class="modal-mini-text">
          <div class="eyebrow">Zpr√°va od G√°bi</div>
          <div>
            Platebn√≠ br√°nu p≈ôipravuju tak, aby byla bezpeƒçn√° a v souladu s charakterem
            LuminaMemory‚Ñ¢. Nechci tlak, jen mo≈ænost <b>klidn√© podpory</b>, a≈æ to bude
            technicky i pr√°vnƒõ v po≈ô√°dku.
          </div>
        </div>
      </div>

      <div class="modal-foot">
        <span>
          Pokud chce≈°, m≈Ø≈æe≈° se pod√≠vat na plnou str√°nku podpory ‚Äì tam vysvƒõtlujeme,
          jak o financov√°n√≠ projektu p≈ôem√Ω≈°l√≠me.
        </span>
        <a href="support.html" target="_blank" rel="noopener">
          Otev≈ô√≠t str√°nku podpory (nov√© okno)
        </a>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const PLAN_KEY = "lm_plan";
      const USER_KEY = "miniLuminaUser";

      const badge = document.getElementById("currentPlanBadge");
      const tiers = document.querySelectorAll(".tier");
      const modalBackdrop = document.getElementById("supportModal");
      const modalPlanBadge = document.getElementById("modalPlanBadge");
      const modalBody = document.getElementById("modalBody");
      const btnCloseModal = document.getElementById("btnCloseModal");

      const PLAN_LABEL = {
        free: "DEMO ¬∑ FREE tarif",
        plus: "DEMO ¬∑ PLUS tarif",
        premium: "DEMO ¬∑ PREMIUM tarif"
      };

      function normalize(plan){
        if(!plan) return "free";
        const p = String(plan).toLowerCase();
        return (p === "plus" || p === "premium" || p === "free") ? p : "free";
      }

      function readPlan(){
        try{
          const fromKey = localStorage.getItem(PLAN_KEY);
          if(fromKey) return normalize(fromKey);

          const rawUser = localStorage.getItem(USER_KEY);
          if(rawUser){
            const user = JSON.parse(rawUser);
            if(user && user.plan) return normalize(user.plan);
          }
        }catch(e){
          // fallback
        }
        return "free";
      }

      function writePlan(plan){
        const p = normalize(plan);
        try{
          localStorage.setItem(PLAN_KEY, p);
          const rawUser = localStorage.getItem(USER_KEY);
          if(rawUser){
            const user = JSON.parse(rawUser) || {};
            user.plan = p;
            localStorage.setItem(USER_KEY, JSON.stringify(user));
          }
        }catch(e){
          console.warn("Nepoda≈ôilo se zapsat pl√°n:", e);
        }
        updateUI(p);
      }

      function updateUI(plan){
        const p = normalize(plan);
        if(badge){
          badge.textContent = PLAN_LABEL[p] || PLAN_LABEL.free;
        }
        tiers.forEach(card=>{
          const tier = card.getAttribute("data-tier");
          if(tier === p){
            card.classList.add("tier--active");
          }else{
            card.classList.remove("tier--active");
          }
        });
      }

      function openSupportModal(plan){
        const p = normalize(plan);
        modalPlanBadge.textContent = PLAN_LABEL[p] || PLAN_LABEL.free;

        if(p === "free"){
          modalBody.textContent =
            "U FREE tarifu se nic neplat√≠ ‚Äì ten z≈Østane i v ostr√© verzi jako vstupn√≠ vrstva, " +
            "kde si m≈Ø≈æe≈° svƒõt LuminaMemory‚Ñ¢ v klidu vyzkou≈°et. Tohle tlaƒç√≠tko ti jen ukazuje, " +
            "jak bude jednou vypadat n√°hled na podporu projektu.";
        } else if(p === "plus"){
          modalBody.textContent =
            "PLUS vid√≠me jako hlavn√≠ pracovn√≠ tarif. Cena, kterou tady vid√≠≈°, je zat√≠m orientaƒçn√≠. " +
            "V ostr√© verzi p≈ôid√°me pevn√© podm√≠nky, bezpeƒçnou platebn√≠ br√°nu a jasnƒõ popsan√©, " +
            "co p≈ôesnƒõ v tarifu z√≠sk√°v√°≈°.";
        } else if(p === "premium"){
          modalBody.textContent =
            "PREMIUM je vize pro ty, kdo chtƒõj√≠ s pamƒõt√≠ a ritu√°ly pracovat opravdu do hloubky. " +
            "Cenu a podm√≠nky je≈°tƒõ dolaƒèujeme ‚Äì tahle obrazovka je jen DEMO n√°hled, " +
            "bez skuteƒçn√© platby a bez z√°vazku.";
        }

        modalBackdrop.classList.add("is-visible");
      }

      function closeSupportModal(){
        modalBackdrop.classList.remove("is-visible");
      }

      // Init UI
      const current = readPlan();
      updateUI(current);

      // Handlery na p≈ôepnut√≠ tarifu
      document.querySelectorAll("[data-plan-select]").forEach(btn=>{
        btn.addEventListener("click", ()=>{
          const plan = btn.getAttribute("data-plan-select");
          writePlan(plan);
        });
      });

      // Handlery na DEMO "Zaplatit"
      document.querySelectorAll("[data-plan-support]").forEach(btn=>{
        btn.addEventListener("click", ()=>{
          const plan = btn.getAttribute("data-plan-support");
          // DEMO: p≈ôi kliknut√≠ z√°rove≈à p≈ôepneme tarif, a≈• pal√°c reaguje
          writePlan(plan);
          openSupportModal(plan);
        });
      });

      if(btnCloseModal){
        btnCloseModal.addEventListener("click", closeSupportModal);
      }
      if(modalBackdrop){
        modalBackdrop.addEventListener("click", (ev)=>{
          if(ev.target === modalBackdrop){
            closeSupportModal();
          }
        });
      }
    })();
  </script>
</body>
</html>