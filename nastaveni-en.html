<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex,nofollow">

  <style>
    :root{
      --bg:#070A14;
      --panel:#0F1326;
      --panel2:#0B0E1E;
      --stroke:rgba(255,255,255,.08);
      --text:#F3F6FF;
      --muted:rgba(243,246,255,.68);
      --accent:#FFE072;          /* Lumina */
      --ms:#3FA9F5;              /* MemorySky */
      --rose:#C77DFF;            /* Rose Zone */
      --shadow: 0 22px 70px rgba(0,0,0,.55);
      --r18:18px;
      --r24:24px;
      --pill:999px;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}

    body{
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background: linear-gradient(180deg, #070A14 0%, #070A14 55%, #050713 100%);
      color:var(--text);
      padding:28px 16px 44px;
    }

    .wrap{
      max-width:1100px;
      margin:0 auto;
      border:1px solid var(--stroke);
      border-radius:32px;
      background:rgba(11,14,30,.92);
      box-shadow:0 40px 120px rgba(0,0,0,.65);
      overflow:hidden;
      position:relative;
    }

    .wrap:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(circle at 18% 12%, rgba(255,224,114,.08), transparent 45%),
        radial-gradient(circle at 82% 18%, rgba(63,169,245,.06), transparent 50%);
      pointer-events:none;
    }

    header{
      position:relative;
      z-index:1;
      padding:22px 22px 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      border-bottom:1px solid rgba(255,255,255,.06);
    }

    .brand{
      display:flex;
      align-items:center;
      gap:10px;
    }

    .mark{
      width:30px;
      height:30px;
      border-radius:50%;
      display:grid;
      place-items:center;
      background: radial-gradient(circle at 30% 20%, #FFF6CD 0, #FFE072 35%, #EBB03B 62%, rgba(0,0,0,0) 70%);
      box-shadow:0 0 22px rgba(255,224,114,.45);
      font-weight:800;
    }

    .title{
      display:flex;
      flex-direction:column;
      gap:2px;
    }

    .title b{
      letter-spacing:.08em;
      text-transform:uppercase;
      font-size:13px;
    }

    .title span{
      font-size:12px;
      color:var(--muted);
    }

    .header-right{
      display:flex;
      align-items:center;
      gap:8px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }

    .crumb{
      font-size:11px;
      color:var(--muted);
      border:1px solid rgba(255,255,255,.08);
      border-radius:var(--pill);
      padding:6px 10px;
      background:rgba(255,255,255,.03);
      display:flex;
      align-items:center;
      gap:6px;
    }

    .back-link{
      font-size:11px;
      text-decoration:none;
      color:var(--text);
      border-radius:var(--pill);
      padding:6px 10px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.35);
      display:flex;
      align-items:center;
      gap:6px;
    }

    .back-link:hover{
      border-color:rgba(255,255,255,.18);
      background:rgba(0,0,0,.5);
    }

    main{
      position:relative;
      z-index:1;
      padding:18px 18px 22px;
    }

    .inner{
      display:flex;
      flex-direction:column;
      gap:16px;
    }

    /* Top bar: avatar + links + plan */
    .desk{
      display:flex;
      gap:14px;
      align-items:flex-stretch;
      flex-wrap:wrap;
    }

    .desk-left,
    .desk-right{
      border-radius:var(--r18);
      border:1px solid rgba(255,255,255,.08);
      background:rgba(15,19,38,.9);
      box-shadow:var(--shadow);
      padding:14px 14px 12px;
      position:relative;
    }

    .desk-left{
      flex:2 1 340px;
      display:flex;
      gap:12px;
      align-items:flex-start;
    }

    .desk-right{
      flex:1.2 1 260px;
      display:flex;
      flex-direction:column;
      gap:8px;
    }

    .desk-avatar{
      width:56px;
      height:56px;
      border-radius:18px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.22);
      box-shadow:0 20px 40px rgba(0,0,0,.85);
      flex-shrink:0;
      background:#050713;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .desk-avatar img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .desk-text h1{
      font-size:14px;
      letter-spacing:.14em;
      text-transform:uppercase;
      margin-bottom:4px;
    }

    .desk-text p{
      font-size:13px;
      color:var(--muted);
      line-height:1.6;
      margin-bottom:8px;
    }

    .desk-links{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }

    .pill-link{
      border-radius:var(--pill);
      padding:7px 11px 7px;
      font-size:12px;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:6px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.35);
      color:var(--text);
      box-shadow:0 12px 26px rgba(0,0,0,.75);
    }

    .pill-link.primary{
      background:radial-gradient(circle at 20% 0, #FFF6CD, #FFE072 55%, #EBB03B 100%);
      color:#050713;
      border-color:rgba(255,224,114,.9);
    }

    .pill-link:hover{
      border-color:rgba(255,255,255,.2);
      background:rgba(0,0,0,.55);
    }

    .pill-link.primary:hover{
      filter:brightness(1.03);
      box-shadow:0 18px 40px rgba(0,0,0,.9);
    }

    /* Plan widget */
    .plan-label{
      font-size:11px;
      letter-spacing:.12em;
      text-transform:uppercase;
      color:var(--muted);
    }

    .plan-current{
      margin-top:3px;
      font-size:13px;
      font-weight:600;
      letter-spacing:.12em;
      text-transform:uppercase;
    }

    .plan-seg{
      margin-top:8px;
      display:inline-flex;
      padding:3px;
      border-radius:var(--pill);
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.35);
      box-shadow:0 12px 26px rgba(0,0,0,.85);
      gap:2px;
    }

    .plan-seg button{
      border:0;
      background:transparent;
      color:var(--muted);
      font-size:11px;
      padding:5px 10px;
      border-radius:var(--pill);
      cursor:pointer;
      min-width:0;
    }

    .plan-seg button.active{
      background:#F3F6FF;
      color:#050713;
      font-weight:600;
    }

    .plan-note{
      margin-top:8px;
      font-size:11px;
      color:var(--muted);
      line-height:1.4;
    }

    .plan-note.pulse{
      animation:pulseNote .6s ease-out;
    }

    @keyframes pulseNote{
      0%{color:var(--text);}
      100%{color:var(--muted);}
    }

    .plan-small{
      margin-top:auto;
      font-size:10px;
      color:rgba(243,246,255,.58);
    }

    /* Sections and grids */
    .section-block{
      margin-top:10px;
      display:flex;
      flex-direction:column;
      gap:8px;
    }

    .section-title{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.16em;
      color:var(--muted);
      margin:2px 2px 0;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:14px;
    }

    @media (max-width: 860px){
      .grid{
        grid-template-columns: 1fr;
      }
      .card{
        grid-column:1 / -1 !important;
        min-height:0;
      }
    }

    .card{
      grid-column:span 4;
      background:rgba(15,19,38,.9);
      border:1px solid rgba(255,255,255,.08);
      border-radius:var(--r18);
      padding:16px 15px 14px;
      box-shadow: var(--shadow);
      transition: transform 140ms ease, border-color 140ms ease, background 140ms ease;
      position:relative;
      overflow:hidden;
      min-height:150px;
    }

    /* MemorySky full width */
    .card--wide{
      grid-column: 1 / -1;
    }

    .card--link{
      cursor:pointer;
    }

    .card--link:hover{
      transform: translateY(-2px);
      border-color: rgba(255,255,255,.14);
      background:rgba(15,19,38,.97);
    }

    .card--link:active{
      transform:translateY(0);
    }

    .card h3{
      font-size:13px;
      text-transform:uppercase;
      letter-spacing:.12em;
      display:flex;
      align-items:center;
      gap:10px;
      margin-bottom:8px;
    }

    .card p{
      font-size:13px;
      line-height:1.6;
      color:var(--muted);
      margin-bottom:10px;
    }

    .meta{
      font-size:11px;
      color:rgba(243,246,255,.55);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:6px;
    }

    .cta{
      font-size:11px;
      letter-spacing:.14em;
      text-transform:uppercase;
      display:inline-flex;
      align-items:center;
      gap:8px;
      opacity:.9;
    }

    .tag{
      padding:3px 8px 4px;
      border-radius:var(--pill);
      border:1px solid rgba(255,255,255,.14);
      font-size:10px;
      white-space:nowrap;
    }

    /* glowing icons */
    .ico{
      width:28px;
      height:28px;
      border-radius:999px;
      display:grid;
      place-items:center;
      border:1px solid rgba(255,255,255,.09);
      background:rgba(255,255,255,.02);
      position:relative;
    }

    .ico.glow:after{
      content:"";
      position:absolute;
      inset:-10px;
      border-radius:999px;
      filter: blur(10px);
      opacity:.65;
      pointer-events:none;
    }

    .ico.lumina{border-color: rgba(255,224,114,.55)}
    .ico.lumina:after{background: rgba(255,224,114,.35)}
    .ico.rose{border-color: rgba(199,125,255,.6)}
    .ico.rose:after{background: rgba(199,125,255,.38)}
    .ico.ms{border-color: rgba(63,169,245,.65)}
    .ico.ms:after{background: rgba(63,169,245,.35)}
    .ico.soft:after{background: rgba(255,255,255,.5); opacity:.7}

    footer{
      position:relative;
      z-index:1;
      padding:14px 18px 18px;
      border-top:1px solid rgba(255,255,255,.06);
      color: rgba(243,246,255,.55);
      font-size:11px;
      display:flex;
      justify-content:space-between;
      flex-wrap:wrap;
      gap:10px;
    }

    @media (max-width:640px){
      header{
        flex-direction:column;
        align-items:flex-start;
        gap:10px;
      }
      .header-right{
        align-self:stretch;
        justify-content:space-between;
      }
      .desk{
        flex-direction:column;
      }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="mark">‚öôÔ∏è</div>
        <div class="title">
          <b>LuminaMemory‚Ñ¢</b>
          <span>World settings (control room)</span>
        </div>
      </div>
      <div class="header-right">
        <a class="back-link" href="lumina-demo-en.html">‚Üê Back</a>
      </div>
    </header>

    <main>
      <div class="inner">
        <!-- Top bar: avatar + links + plan -->
        <section class="desk" aria-label="Settings desk">
          <div class="desk-left">
            <div class="desk-avatar">
              <img src="avatar.png" alt="Lumina ‚Äì admin avatar">
            </div>
            <div class="desk-text">
              <h1>Palace Settings</h1>
              <p>
                The control room where you set Lumina‚Äôs tone, your profile, the Rose Zone safety layer,
                memory, and the folders overview. Still demo-only ‚Äî stored locally in this browser.
              </p>
              <div class="desk-links">
                <a href="lumina-pruvodce-en.html" class="pill-link primary">
                  üìñ Palace Guide
                </a>
                <a href="manifest-nastenka-en.html" class="pill-link">
                  üìú Manifest &amp; Board
                </a>
              </div>
            </div>
          </div>

          <div class="desk-right">
            <div class="plan-label">DEMO ¬∑ tarif</div>
            <div class="plan-current" id="currentPlan">FREE</div>

            <div class="plan-seg" aria-label="Demo plan switch">
              <button type="button" data-plan="free" aria-pressed="true">FREE</button>
              <button type="button" data-plan="plus" aria-pressed="false">PLUS</button>
              <button type="button" data-plan="premium" aria-pressed="false">PREMIUM</button>
            </div>

            <div class="plan-note" id="planNote">
              This switch only changes what looks ‚Äúopen‚Äù in the demo and the visible memory capacity.
            </div>

            <div class="plan-small">
              In the live version, real plans and billing would run here. In the demo, it‚Äôs simulation only.
            </div>
          </div>
        </section>

        <!-- Your settings -->
        <section class="section-block" aria-label="Your settings">
          <h2 class="section-title">Your settings</h2>
          <div class="grid">
            <!-- Profile -->
            <article class="card card--link" onclick="window.location.href='profil-en.html'">
              <h3>
                <span class="ico glow soft">üë§</span>
                Profile / User Codex
              </h3>
              <p>
                Your base card. Name, language, and fine-tuning for pace and sensitivity.
                In the live version, this becomes the real User Codex for Mission LIFE‚Ñ¢.
              </p>
              <div class="meta">
                <span class="cta">Open profile <span aria-hidden="true">‚Üó</span></span>
                <span class="tag">DEMO ¬∑ FREE / PLUS / PREMIUM</span>
              </div>
            </article>

            <!-- Lumina tone -->
            <article class="card card--link" onclick="window.location.href='lumina-komnata-en.html'">
              <h3>
                <span class="ico glow lumina">‚ú®</span>
                Lumina ‚Äì tone &amp; manner
              </h3>
              <p>
                A chamber where you choose how Lumina speaks: supportive, playful,
                more serious‚Ä¶ It only changes tone, not personality.
              </p>
              <div class="meta">
                <span class="cta">Open chamber <span aria-hidden="true">‚Üó</span></span>
                <span class="tag">DEMO ¬∑ FREE / PLUS / PREMIUM</span>
              </div>
            </article>

            <!-- Subscription moved up -->
            <article class="card card--link" onclick="window.location.href='predplatne-en.html'">
              <h3>
                <span class="ico glow soft">üí°</span>
                Subscription ¬∑ DEMO plans
              </h3>
              <p>
                Overview of FREE / PLUS / PREMIUM in the demo. What is open,
                what is preview-only, and where payments would run in the live version.
              </p>
              <div class="meta">
                <span class="cta">Open plan overview <span aria-hidden="true">‚Üó</span></span>
                <span class="tag">DEMO ¬∑ FREE / PLUS / PREMIUM</span>
              </div>
            </article>
          </div>
        </section>

        <!-- LuminaMemory‚Ñ¢ world -->
        <section class="section-block" aria-label="LuminaMemory world">
          <h2 class="section-title">LuminaMemory‚Ñ¢ world</h2>
          <div class="grid">
            <!-- Rose Zone -->
            <article class="card card--link" onclick="window.location.href='rosezone-en.html'">
              <h3>
                <span class="ico glow rose">üåπ</span>
                Rose Zone‚Ñ¢ ‚Äì protection
              </h3>
              <p>
                The safe rose layer. Emergency STOP modes for sensitive topics
                and settings for what is allowed to happen with them. In demo: ritual + simulation only.
              </p>
              <div class="meta">
                <span class="cta">Open Rose Zone‚Ñ¢ <span aria-hidden="true">‚Üó</span></span>
                <span class="tag">Protection for all plans</span>
              </div>
            </article>

            <!-- Inventory -->
            <article class="card card--link" onclick="window.location.href='inventory-en.html'">
              <h3>
                <span class="ico glow soft">üóÇÔ∏è</span>
                Inventory ‚Äì folder overview
              </h3>
              <p>
                The palace mind-map. See which rooms are lit in each plan
                and how they connect to each other.
              </p>
              <div class="meta">
                <span class="cta">Open Inventory <span aria-hidden="true">‚Üó</span></span>
                <span class="tag">Open for all plans</span>
              </div>
            </article>

            <!-- Archive -->
            <article class="card card--link" onclick="window.location.href='archiv-en.html'">
              <h3>
                <span class="ico glow soft">üóÑÔ∏è</span>
                Life Mission Archive‚Ñ¢
              </h3>
              <p>
                A vault for long-term backups of Mission LIFE‚Ñ¢. In demo: a preview
                of how scheduled backups and cycles would work.
              </p>
              <div class="meta">
                <span class="cta">Open archive <span aria-hidden="true">‚Üó</span></span>
                <span class="tag">DEMO ¬∑ PLUS / PREMIUM</span>
              </div>
            </article>

            <!-- MemorySky wide -->
            <article class="card card--link card--wide" onclick="window.location.href='memorysky-en.html'">
              <h3>
                <span class="ico glow ms">‚òÅÔ∏è</span>
                MemorySky‚Ñ¢ ‚Äì memory
              </h3>
              <p>
                A sky for digital memory. In demo: shows only visual capacity,
                the behavior of three clouds (fill level, backups, export), and plan impact.
              </p>
              <div class="meta">
                <span class="cta">Open MemorySky‚Ñ¢ <span aria-hidden="true">‚Üó</span></span>
                <span class="tag">DEMO ¬∑ FREE / PLUS / PREMIUM</span>
              </div>
            </article>
          </div>
        </section>
      </div>
    </main>

    <footer>
      <div>DEMO ‚Ä¢ Settings (control room) ‚Ä¢ no internal data</div>
      <div>üï∏ identity ‚Üí central network</div>
    </footer>
  </div>

  <script>
    (function(){
      const PLAN_KEY = "lm_plan";

      function normalizePlan(p){
        if(!p) return "free";
        p = String(p).toLowerCase();
        return (p === "free" || p === "plus" || p === "premium") ? p : "free";
      }

      function readPlan(){
        try{
          const fromKey = localStorage.getItem(PLAN_KEY);
          if(fromKey) return normalizePlan(fromKey);

          const rawUser = localStorage.getItem("miniLuminaUser");
          if(rawUser){
            const user = JSON.parse(rawUser);
            if(user && user.plan) return normalizePlan(user.plan);
          }
        }catch(e){}
        return "free";
      }

      function writePlan(plan){
        plan = normalizePlan(plan);
        try{
          localStorage.setItem(PLAN_KEY, plan);
        }catch(e){}

        try{
          const rawUser = localStorage.getItem("miniLuminaUser");
          if(rawUser){
            const user = JSON.parse(rawUser);
            if(user && typeof user === "object"){
              user.plan = plan;
              localStorage.setItem("miniLuminaUser", JSON.stringify(user));
            }
          }
        }catch(e){}
      }

      const buttons = Array.from(document.querySelectorAll(".plan-seg button[data-plan]"));
      const label   = document.getElementById("currentPlan");
      const note    = document.getElementById("planNote");

      function applyPlan(plan, silent){
        plan = normalizePlan(plan);

        buttons.forEach(btn=>{
          const active = btn.dataset.plan === plan;
          btn.classList.toggle("active", active);
          btn.setAttribute("aria-pressed", active ? "true" : "false");
        });

        if(label){
          const map = {free:"FREE", plus:"PLUS", premium:"PREMIUM"};
          label.textContent = map[plan] || plan.toUpperCase();
        }

        writePlan(plan);

        if(!silent && note){
          note.classList.remove("pulse");
          void note.offsetWidth; // reset animation
          note.classList.add("pulse");
        }
      }

      buttons.forEach(btn=>{
        btn.addEventListener("click", ()=>{
          applyPlan(btn.dataset.plan, false);
        });
      });

      applyPlan(readPlan(), true);
    })();
  </script>
</body>
</html>